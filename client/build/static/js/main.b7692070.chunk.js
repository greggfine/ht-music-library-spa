(this["webpackJsonpht-music-library_react"]=this["webpackJsonpht-music-library_react"]||[]).push([[0],{138:function(e,a,t){},139:function(e,a,t){},140:function(e,a,t){},141:function(e,a,t){},145:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(14),o=t.n(c),u=(t(82),t(83),t(40)),l=t(29),s=t(66),i=t.n(s);function m(){return n.a.createElement(l.a,{bg:"light",expand:"lg",className:"NavBar"},n.a.createElement(l.a.Brand,{href:"#home"},n.a.createElement("img",{src:i.a,className:"d-inline-block align-top NavBar-logo",alt:"React Bootstrap logo"})),n.a.createElement(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(l.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(u.a,{className:"mr-auto"},n.a.createElement(u.a.Link,{href:"#home"},"HT Music Library"),n.a.createElement(u.a.Link,{href:"#link"},"Latest Tracks"))))}var f=t(23),b=t(9),d=(t(87),t(7)),g=t.n(d),p=Object(r.createContext)(),y=function(e){var a=Object(r.useState)([]),t=Object(b.a)(a,2),c=t[0],o=t[1],u=Object(r.useState)([]),l=Object(b.a)(u,2),s=l[0],i=l[1],m=Object(r.useState)([]),f=Object(b.a)(m,2),d=f[0],y=f[1];return Object(r.useEffect)((function(){!function(){var e,a;g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.awrap(fetch("/categories"));case 2:return e=t.sent,t.next=5,g.a.awrap(e.json());case 5:a=t.sent,o(a);case 7:case"end":return t.stop()}}))}()}),[]),n.a.createElement(p.Provider,{value:{categories:c,currentSubcategoryArr:s,setCurrentSubcategoryArr:i,currentSubgenreArr:d,setCurrentSubgenreArr:y}},e.children)},E=t(38),v=function(e){var a=e.currentMainCategory,t=e.currentSubCat,c=Object(r.useContext)(p),o=Object(r.useState)([]),u=Object(b.a)(o,2),l=(u[0],u[1],c.categories.find((function(e){return e.mainCategoryName===a})).subcategories.find((function(e){return e.subcategoryName===t})).subcategoryTypes.map((function(e,a){return n.a.createElement(E.a,{key:a},n.a.createElement("div",{key:"default-checkbox",className:"mb-3"},n.a.createElement(E.a.Check,{type:"checkbox",id:"default-checkbox",label:e,onClick:function(){return function(e){if(c.currentSubgenreArr.includes(e)){var a=c.currentSubgenreArr.filter((function(a){return a!==e}));c.setCurrentSubgenreArr(a)}else c.setCurrentSubgenreArr([].concat(Object(f.a)(c.currentSubgenreArr),[e]))}(e)}})))})));return n.a.createElement("div",null,l)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=Object(r.useState)(e),t=Object(b.a)(a,2),n=t[0],c=t[1],o=function(){c(!n)};return[n,o]},S=t(26),k=t(48),C=function(e){var a=e.subcategoryName,t=e.currentMainCategory,r=e.handleSetCurrentSubcategory,c=h(),o=Object(b.a)(c,2),u=o[0],l=o[1],s=h(),i=Object(b.a)(s,2),m=i[0],f=i[1],d=function(){f(!1),l(),console.log("closed")};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"Subcategory"},n.a.createElement("li",{className:"Subcategory-item",onClick:function(){return function(e){l(),r(e)}(a)}},a),u&&n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{onClick:function(){return f(!0)},className:"btn btn-success show-more-btn"},"Show more..."),m&&n.a.createElement(S.a,{show:m,onHide:d},n.a.createElement(S.a.Header,{closeButton:!0},n.a.createElement(S.a.Title,null,"Select subcategories...")),n.a.createElement(S.a.Body,null,n.a.createElement(v,{currentMainCategory:t,currentSubCat:a})),n.a.createElement(S.a.Footer,null,n.a.createElement(k.a,{variant:"primary",onClick:d},"Close"))))))},w=(t(89),function(e){var a=e.currentMainCategory,t=e.handleSetCurrentSubcategory,c=Object(r.useContext)(p).categories.map((function(e){if(e.mainCategoryName===a)return e.subcategories.map((function(e,r){return n.a.createElement(C,{key:r,subcategoryName:e.subcategoryName,currentMainCategory:a,handleSetCurrentSubcategory:t})}))}));return n.a.createElement("ul",{className:"Subcategories"},c)}),x=(t(90),t(76)),j=(t(91),t(69)),N=t.n(j),O=(t(137),t(37)),T=t(71),A=t(70),F=t.n(A),M=(t(138),{container:"#waveform",progressColor:"rgb(68,89,66)",waveColor:"grey",cursorColor:"#999999",height:54,pixelRatio:1,responsive:!0});t(139);function B(e){var a=e.handleSetVolume;return n.a.createElement("div",{className:"Volume"},n.a.createElement("input",{type:"range",className:"volume-slider",min:"0",max:"1",step:".01",onInput:a}),n.a.createElement("i",{className:"fa fa-volume-up speaker-icon"}))}var H;t(140);function L(e){var a=e.paused,t=e.handlePlayPause,r=e.handleStop,c=e.currentTrack,o=e.subcategoryTracks,u=e.handleSetVolume;return n.a.createElement("div",{className:"controls-badge-wrapper"},n.a.createElement("div",{className:"controls"},n.a.createElement("i",{className:a?"fa fa-play fa-4x btn-play":"fa fa-pause fa-4x btn-pause",onClick:t}),n.a.createElement("i",{className:"fa fa-stop fa-4x btn-stop",onClick:r}),n.a.createElement("a",{href:"/audio/".concat(c),id:"downloader",download:c},n.a.createElement("i",{className:"fa fa-download fa-4x download-icon"}))),n.a.createElement(B,{handleSetVolume:u}),n.a.createElement("h4",null,n.a.createElement(O.a,{className:"results-badge",variant:"info"},o.length," Results")))}var _=function(e){var a=e.currentTrack,t=e.subcategoryTracks,c=Object(r.useState)(!0),o=Object(b.a)(c,2),u=o[0],l=o[1],s=Object(r.useState)(!1),i=Object(b.a)(s,2),m=i[0],f=i[1];Object(r.useEffect)((function(){H=g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.awrap(F.a.create(M));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}),[]),Object(r.useEffect)((function(){!function(){var e;g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.next=3,g.a.awrap(H);case 3:return e=t.sent,t.next=6,g.a.awrap(e.load("/audio/".concat(a)));case 6:e.on("ready",(function(){f(!1)}));case 7:case"end":return t.stop()}}))}()}),[a]);return n.a.createElement("div",{className:"Wave"},m&&n.a.createElement(T.a,{animation:"grow",role:"status",className:"loading-spinner",variant:"success"},n.a.createElement("span",{className:"sr-only"},"Loading...")),n.a.createElement("div",{id:"waveform",className:"waveform"}),n.a.createElement("div",{className:"badge-controlpanel-wrapper"},n.a.createElement("h3",null,n.a.createElement(O.a,{className:"current-track-title",variant:"dark"},a.replace(/_HiddenTigerMusic.mp3/,""))),n.a.createElement(L,{paused:u,handlePlayPause:function(){var e;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.awrap(H);case 2:return e=a.sent,a.next=5,g.a.awrap(l(!u));case 5:u?e.play():e.pause();case 6:case"end":return a.stop()}}))},handleStop:function(){var e;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.awrap(H);case 2:return e=a.sent,a.next=5,g.a.awrap(e.stop());case 5:l(u||!u);case 6:case"end":return a.stop()}}))},currentTrack:a,subcategoryTracks:t,handleSetVolume:function(e){return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.persist(),a.next=3,g.a.awrap(H);case 3:a.sent.setVolume(e.target.value);case 5:case"end":return a.stop()}}))}})))},P=[{dataField:"filename",text:"Track Name",sort:!0,style:{color:"rgb(179, 34, 48)",fontWeight:"700"},headerStyle:{backgroundColor:"lightgrey"}},{dataField:"metadata.description",text:"Description",headerStyle:{backgroundColor:"lightgrey"}},{dataField:"metadata.bpm",text:"BPM",sort:!0,headerStyle:{backgroundColor:"lightgrey"}},{dataField:"metadata.length",text:"Length",sort:!0,headerStyle:{backgroundColor:"lightgrey"}}];function V(e){var a=e.subcategoryTracks,t=Object(r.useState)("Fireside_HiddenTigerMusic.mp3"),c=Object(b.a)(t,2),o=c[0],u=c[1],l={onClick:function(e,a,t){console.log("clicked!!!"),u("".concat(a.filename,"_HiddenTigerMusic.mp3"))}},s=a.map((function(e){return Object(x.a)({},e,{filename:e.filename.replace(/_HiddenTigerMusic.mp3/,"")})}));return n.a.createElement(n.a.Fragment,null,n.a.createElement(_,{currentTrack:o,subcategoryTracks:a}),n.a.createElement("div",{className:"table-container"},n.a.createElement(N.a,{hover:!0,keyField:"_id",data:s,columns:P,rowEvents:l,selectRow:{mode:"radio",clickToSelect:!0},className:"table"})))}var R=function(){var e=Object(r.useState)([]),a=Object(b.a)(e,2),t=a[0],c=a[1],o=Object(r.useContext)(p);return Object(r.useEffect)((function(){!function(){var e,a,t,r,n;g.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(a=[].concat(Object(f.a)(o.currentSubgenreArr),Object(f.a)(o.currentSubcategoryArr)),console.log(a),t=a.reduce((function(e,a){return"".concat(e).concat(a,"&")}),""),r=t.slice(0,t.length-1)){u.next=10;break}return u.next=7,g.a.awrap(fetch("/tracks/jazz"));case 7:e=u.sent,u.next=13;break;case 10:return u.next=12,g.a.awrap(fetch("/tracks/".concat(r)));case 12:e=u.sent;case 13:return u.next=15,g.a.awrap(e.json());case 15:n=u.sent,c(n);case 17:case"end":return u.stop()}}))}()}),[o.currentSubcategoryArr,o.currentSubgenreArr]),t?n.a.createElement(V,{subcategoryTracks:t}):"Loading..."},W=function(){var e=Object(r.useContext)(p);return n.a.createElement("div",null,n.a.createElement("h4",null,"Filtered By: ",n.a.createElement("strong",null,e.currentSubcategory)))},z=function(){var e=Object(r.useState)("genre"),a=Object(b.a)(e,2),t=a[0],c=a[1],o=Object(r.useContext)(p),u=o.categories.map((function(e,a){return n.a.createElement("li",{key:a,onClick:function(){return function(e){c(e.mainCategoryName)}(e)},style:{backgroundColor:e.mainCategoryName===t?"rgb(218, 210, 186)":""}},n.a.createElement("p",null,e.mainCategoryName),n.a.createElement("p",{className:"".concat(e.icon," icon")}))}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",{className:"MainCategories"},u),n.a.createElement(w,{currentMainCategory:t,handleSetCurrentSubcategory:function(e){if(o.currentSubcategoryArr.includes(e)){var a=o.currentSubcategoryArr.filter((function(a){return a!==e}));o.setCurrentSubcategoryArr(a)}else o.setCurrentSubcategoryArr([].concat(Object(f.a)(o.currentSubcategoryArr),[e]))}}),n.a.createElement(W,null),n.a.createElement(R,null))},I=(t(141),t(72)),J=(t(142),function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(m,null),n.a.createElement(I.a,{className:"Container fluid"},n.a.createElement(y,null,n.a.createElement(z,null))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=t(75);o.a.render(n.a.createElement(D.a,null,n.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},66:function(e,a,t){e.exports=t.p+"static/media/ht-logo.4bd59fce.png"},77:function(e,a,t){e.exports=t(145)},82:function(e,a,t){},83:function(e,a,t){},87:function(e,a,t){},89:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){}},[[77,1,2]]]);
//# sourceMappingURL=main.b7692070.chunk.js.map